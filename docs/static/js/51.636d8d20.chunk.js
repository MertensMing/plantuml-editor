"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[51],{51:function(e,n,t){t.r(n),t.d(n,{SideOperations:function(){return f},default:function(){return b}});var l=t(7657),o=t(5848),r=t(8432),i=t(1718),s=t(1093),a=t(2236),c=t(7500),d=t(184);var u=function(){var e=(0,i.G)(c.O),n=(0,a.t)().handleContentChange,t=(0,l.oR)(e,(function(e){return(0,s.e)(e,["currentObjectId"])}),o.Z).currentObjectId,u=(0,l.oR)(e,(function(e){var n,t;return null!==(n=e.deployment)&&void 0!==n&&n.root?(0,r.dn)(null===(t=e.deployment)||void 0===t?void 0:t.root,e.currentObjectId):void 0}),o.Z);return(0,d.jsx)(d.Fragment,{children:u&&!u.isContainer&&u.type===r.LP.json&&(0,d.jsxs)("div",{className:"pt-8",children:[(0,d.jsx)("h3",{className:"pb-2 text-sm font-bold",children:"\u5185\u5bb9"}),(0,d.jsx)("textarea",{className:"textarea textarea-bordered leading-4 scrollbar-thin scrollbar-thumb-slate-300",value:u.content||"",onChange:function(e){n(t,e.target.value)},rows:10})]})})},v=t(7043),h=t(7114);var p=function(){var e,n,t=(0,i.G)(c.O),a=function(){var e=(0,i.G)(c.O);return{handleDeleteRelation:function(n,t){e.setState((function(e){return(0,v.Uy)(e,(function(e){(0,r.VG)(e.deployment,n,t)}))}))},handleRelationChange:function(n,t,l,o){e.setState((function(e){return(0,v.Uy)(e,(function(e){var r=(e.deployment.relations[n]||[]).find((function(e){return e.id===t}));r&&(r[l]=o)}))}))}}}(),u=a.handleDeleteRelation,p=a.handleRelationChange,x=(0,l.oR)(t,(function(e){return(0,s.e)(e,["currentObjectId","deployment"])}),o.Z),m=x.currentObjectId,j=x.deployment,f=null!==(e=null===j||void 0===j||null===(n=j.relations)||void 0===n?void 0:n[m])&&void 0!==e?e:[];return(0,d.jsx)(d.Fragment,{children:(null===f||void 0===f?void 0:f.length)>0&&(0,d.jsxs)("div",{className:"pt-8",children:[(0,d.jsx)("h3",{className:"pb-2 text-sm font-bold",children:"\u5bf9\u8c61\u5173\u7cfb"}),(0,d.jsx)("div",{className:"-mb-5",children:f.map((function(e,n){var t=(0,r.dn)(j.root,e.to);return(0,d.jsx)("div",{className:"pb-5 pt-2",children:(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex space-x-1 pb-2",children:[(0,d.jsxs)("div",{className:"flex items-center mr-4",children:[(0,d.jsx)("span",{className:"mr-2 text-sm",children:"\u8fde\u7ebf"}),(0,d.jsx)(h.z,{color:e.linkColor||"#000000",onChange:function(n){p(m,e.id,"linkColor",n)}})]}),(0,d.jsxs)("div",{className:"flex items-center mr-4",children:[(0,d.jsx)("span",{className:"mr-2 text-sm",children:"\u6587\u5b57"}),(0,d.jsx)(h.z,{color:e.descColor||"#000000",onChange:function(n){p(m,e.id,"descColor",n)}})]})]}),(0,d.jsx)("div",{className:"form-control pb-2",children:(0,d.jsxs)("label",{className:"input-group input-group-sm",children:[(0,d.jsx)("span",{children:"\u76ee\u6807"}),(0,d.jsx)("span",{className:"bg-slate-50",children:null===t||void 0===t?void 0:t.name})]})}),(0,d.jsx)("div",{className:"form-control pb-2",children:(0,d.jsxs)("label",{className:"input-group input-group-xs",children:[(0,d.jsx)("span",{children:"\u63cf\u8ff0"}),(0,d.jsx)("input",{type:"text",className:"input input-bordered input-xs w-36",value:e.name,onChange:function(n){return p(m,e.id,"name",n.target.value)}})]})}),(0,d.jsx)("div",{className:"form-control pb-2",children:(0,d.jsxs)("label",{className:"input-group input-group-xs",children:[(0,d.jsx)("span",{children:"\u7c7b\u578b"}),(0,d.jsxs)("select",{value:e.type,className:"select select-bordered select-xs",onChange:function(n){p(m,e.id,"type",n.target.value)},children:[(0,d.jsx)("option",{value:r.uT.dependency,children:"\u4f9d\u8d56"}),(0,d.jsx)("option",{value:r.uT.association,children:"\u5173\u8054"}),(0,d.jsx)("option",{value:r.uT.composition,children:"\u7ec4\u5408"}),(0,d.jsx)("option",{value:r.uT.aggregation,children:"\u805a\u5408"}),(0,d.jsx)("option",{value:r.uT.realize,children:"\u5b9e\u73b0"}),(0,d.jsx)("option",{value:r.uT.generalization,children:"\u7ee7\u627f"})]})]})}),(0,d.jsxs)("div",{className:"flex pb-2",children:[(0,d.jsx)("div",{className:"form-control",children:(0,d.jsxs)("label",{className:"input-group input-group-xs",children:[(0,d.jsx)("span",{children:"\u65b9\u5411"}),(0,d.jsxs)("select",{value:e.linkDirection,className:"select select-bordered select-xs",onChange:function(n){p(m,e.id,"linkDirection","-"===n.target.value?"":n.target.value)},children:[(0,d.jsx)("option",{value:"up",children:"\u4e0a"}),(0,d.jsx)("option",{value:"down",children:"\u4e0b"}),(0,d.jsx)("option",{value:"left",children:"\u5de6"}),(0,d.jsx)("option",{value:"right",children:"\u53f3"}),(0,d.jsx)("option",{value:"-",children:"\u81ea\u52a8"})]})]})}),(0,d.jsx)("button",{onClick:function(){return u(e.origin,e.to)},className:"btn btn-ghost btn-error btn-xs ml-1",children:(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})]})},n)}))})]})})};function x(){var e,n,t=(0,i.G)(c.O),u=(0,a.t)().handleCommentChange,v=(0,l.oR)(t,(function(e){return(0,s.e)(e,["currentObjectId","deployment","svgUrl","uml","pngUrl"])}),o.Z).currentObjectId,h=(0,l.oR)(t,(function(e){var n,t;return null!==(n=e.deployment)&&void 0!==n&&n.root?(0,r.dn)(null===(t=e.deployment)||void 0===t?void 0:t.root,e.currentObjectId):void 0}),o.Z),p=(null===h||void 0===h?void 0:h.type)===r.ZY.diagram;return(0,d.jsx)(d.Fragment,{children:!p&&(0,d.jsxs)("div",{className:"pt-8",children:[(0,d.jsxs)("h3",{className:"pb-2 text-sm font-bold flex items-center",children:["\u6ce8\u91ca"," ",(0,d.jsxs)("select",{value:(null===h||void 0===h||null===(e=h.comment)||void 0===e?void 0:e.direction)||"right",className:"select select-bordered select-xs ml-3",onChange:function(e){var n;u(v,{direction:e.target.value,content:null===h||void 0===h||null===(n=h.comment)||void 0===n?void 0:n.content})},children:[(0,d.jsx)("option",{value:"top",children:"\u4e0a"}),(0,d.jsx)("option",{value:"right",children:"\u53f3"}),(0,d.jsx)("option",{value:"bottom",children:"\u4e0b"}),(0,d.jsx)("option",{value:"left",children:"\u5de6"})]})]}),(0,d.jsx)("textarea",{className:"textarea textarea-bordered leading-4 scrollbar-thin scrollbar-thumb-slate-300",value:(null===h||void 0===h||null===(n=h.comment)||void 0===n?void 0:n.content)||"",onChange:function(e){var n;u(v,{direction:(null===h||void 0===h||null===(n=h.comment)||void 0===n?void 0:n.direction)||"right",content:e.target.value})},rows:10})]})})}var m=function(){var e=(0,a.t)().handleObjectNameChange,n=(0,i.G)(c.O),t=(0,l.oR)(n,(function(e){return(0,s.e)(e,["currentObjectId","deployment"])}),o.Z).currentObjectId,u=(0,l.oR)(n,(function(e){var n,t;return null!==(n=e.deployment)&&void 0!==n&&n.root?(0,r.dn)(null===(t=e.deployment)||void 0===t?void 0:t.root,e.currentObjectId):void 0}),o.Z);return(0,d.jsxs)("div",{className:"pt-8",children:[(0,d.jsx)("h3",{className:"pb-2 text-sm font-bold",children:"\u540d\u79f0"}),(0,d.jsx)("div",{children:(0,d.jsx)("div",{children:(0,d.jsx)("input",{type:"text",className:"input input-bordered input-sm",value:(null===u||void 0===u?void 0:u.name)||r.j2,onChange:function(n){return e(t,n.target.value)}})})})]})},j=function(){var e=(0,a.t)().handleLineTypeChange,n=(0,i.G)(c.O),t=(0,l.oR)(n,(function(e){return(0,s.e)(e,["currentObjectId","deployment"])}),o.Z).deployment;return(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"pb-2 text-sm font-bold",children:"\u8fde\u7ebf\u6837\u5f0f"}),(0,d.jsx)("div",{className:"flex items-center",children:(0,d.jsx)("div",{className:"form-control",children:(0,d.jsxs)("label",{className:"input-group input-group-sm",children:[(0,d.jsx)("span",{children:"\u7c7b\u578b"}),(0,d.jsxs)("select",{value:null===t||void 0===t?void 0:t.linetype,className:"select select-bordered select-sm",onChange:function(n){e(n.target.value)},children:[(0,d.jsx)("option",{value:"default",children:"Default"}),(0,d.jsx)("option",{value:"ortho",children:"Ortho"}),(0,d.jsx)("option",{value:"polyline",children:"Polyline"})]})]})})})]})},f=function(){return(0,d.jsxs)("div",{children:[(0,d.jsx)(j,{}),(0,d.jsx)(m,{}),(0,d.jsx)(u,{}),(0,d.jsx)(x,{}),(0,d.jsx)(p,{})]})},b=f}}]);
//# sourceMappingURL=51.636d8d20.chunk.js.map